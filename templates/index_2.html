{% extends "base.html" %}
{% block title %}Index_2 Page{% endblock %}

{% block content %}

    <h1>Hello Flask community</h1>
    <form method="POST" action="{{ url_for('index_2') }}">
        <input type = "text" name = "username" placeholder = "Enter Username">
        <input type = "password" name = "password" placeholder = "Enter Password">
        <input type = "submit" value="LOGIN">
    </form>

    <h1>File upload section</h1>
    <form method="POST" action="{{ url_for('upload_file') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/csv, text/plain" required = 'required'>
        <input type="Submit" value="Upload file">
    </form>


    <h1>Convert to CSV</h1>
    <form method="POST" action="{{ url_for('convert_to_csv') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/csv, text/plain" required = 'required'>
        <input type="Submit" value="download file">
    </form>

    <h1>Convert to CSV two</h1>
    <form method="POST" action="{{ url_for('convert_csv_two') }}" enctype="multipart/form-data">
        <input type="file" name="file" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, text/csv, text/plain" required = 'required'>
        <input type="Submit" value="download file">
    </form>



    <h1>JavaScript JSON Request</h1>
    <button id = "post_button",>Send POST Request</button>

    <script type ="text/javascript">
        const postButton = document.getElementById('post_button');
    
        const jsonData = {
            name: 'Azhar afridi',
            greeting: 'Hello'
        }
    
        postButton.addEventListener('click', () => {
            fetch( '{{ url_for('handle_post') }}', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json; charset=utf-8'
                },
                body: JSON.stringify(jsonData)
        })
                .then(response => response.json())  
                .then(data => console.log('Success:', data))
                .catch((error) => {console.error('Error:', error)
                    
                });


        })
    </script>


{% endblock %}